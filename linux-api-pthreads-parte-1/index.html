<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="h-100" xml:lang="pt-BR" lang="pt-BR">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.101.0" />

  
  <title>Linux API: pthreads - Parte 1 &middot; Buteco Tecnológico</title>
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

<link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>


<link rel="preload"
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&display=swap"
      as="style">

<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&display=swap"
      rel="stylesheet">

<style type="text/css">
@font-face {
  font-family: 'Source Sans Pro';
  font-display: swap;
}

@font-face {
  font-family: 'Source Code Pro';
  font-display: swap;
}
</style>
<link rel="stylesheet" href="/sass/iara.min.2bf4c8372d3ae6f853b9bbbab9c49446eea553b93fc9ffef0607ffaae5309d4c.css">

<link rel="preload" href="/vendor/fontawesome/css/all.min.css" as="style">
<link rel="preload" href="/vendor/fontawesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/vendor/fontawesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/vendor/fontawesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>

<link rel="stylesheet" href="/vendor/fontawesome/css/all.min.css"/>
<link rel="shortcut icon" href="/logos/capybara_64.png">

<link rel="icon" href="/logos/capybara_32.png" sizes="32x32">
<link rel="icon" href="/logos/capybara_64.png" sizes="64x64">
<link rel="icon" href="/logos/capybara_144.png" sizes="144x144">
<link rel="icon" href="/logos/capybara_192.png" sizes="192x192">




<meta name="theme-color" content="#ffffff">

<meta name="msapplication-navbutton-color" content="#ffffff">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<meta name="msapplication-TileColor" content="#ffffff">
<link type="text/css" rel="stylesheet" href="/css/custom.css">
<meta name="description" content="Processadores de múltiplos núcleos já são uma realidade nos computadores da grande maioria dos usuários comuns. Em meio a esse avanço podemos escrever programas que executam várias linhas de processamento em paralelo, podendo fazer com que esses programas tenham um tempo de resposta menor.
Para tal, este post mostrará como utilizar POSIX threads na linguagem C.
O que são threads?
Threads são linhas de execução para processos. Ao iniciar um processo, uma thread principal é iniciada, um processo então pode criar outras threads para que estas executem tarefas específicas e de forma paralela. Quando temos uma CPU com um único núcleo, dizemos que as threads executam de forma concorrente, uma vez que a CPU só pode executar uma thread por vez, mas há mais que uma para ser executada ao &#34;mesmo tempo&#34;. Já quando temos uma CPU com vários núcleos, as threads podem ser executadas tanto de forma concorrente como em paralelo, pois o scheduler pode priorizar outros programas do computador além do seu." />

<meta itemprop="name" content="Linux API: pthreads - Parte 1">
<meta itemprop="description" content="Processadores de múltiplos núcleos já são uma realidade nos computadores da grande maioria dos usuários comuns. Em meio a esse avanço podemos escrever programas que executam várias linhas de processamento em paralelo, podendo fazer com que esses programas tenham um tempo de resposta menor.
Para tal, este post mostrará como utilizar POSIX threads na linguagem C.
O que são threads?
Threads são linhas de execução para processos. Ao iniciar um processo, uma thread principal é iniciada, um processo então pode criar outras threads para que estas executem tarefas específicas e de forma paralela. Quando temos uma CPU com um único núcleo, dizemos que as threads executam de forma concorrente, uma vez que a CPU só pode executar uma thread por vez, mas há mais que uma para ser executada ao &#34;mesmo tempo&#34;. Já quando temos uma CPU com vários núcleos, as threads podem ser executadas tanto de forma concorrente como em paralelo, pois o scheduler pode priorizar outros programas do computador além do seu."><meta itemprop="datePublished" content="2016-01-19T11:45:24+00:00" />
<meta itemprop="dateModified" content="2016-01-19T11:45:24+00:00" />
<meta itemprop="wordCount" content="931"><meta itemprop="image" content="https://butecotecnologico.com.br/images/wp-content/uploads/2016/01/pthreads1.png">
<meta itemprop="keywords" content="c,cpp,linux,posix,threads," />
<meta property="og:title" content="Linux API: pthreads - Parte 1" />
<meta property="og:description" content="Processadores de múltiplos núcleos já são uma realidade nos computadores da grande maioria dos usuários comuns. Em meio a esse avanço podemos escrever programas que executam várias linhas de processamento em paralelo, podendo fazer com que esses programas tenham um tempo de resposta menor.
Para tal, este post mostrará como utilizar POSIX threads na linguagem C.
O que são threads?
Threads são linhas de execução para processos. Ao iniciar um processo, uma thread principal é iniciada, um processo então pode criar outras threads para que estas executem tarefas específicas e de forma paralela. Quando temos uma CPU com um único núcleo, dizemos que as threads executam de forma concorrente, uma vez que a CPU só pode executar uma thread por vez, mas há mais que uma para ser executada ao &#34;mesmo tempo&#34;. Já quando temos uma CPU com vários núcleos, as threads podem ser executadas tanto de forma concorrente como em paralelo, pois o scheduler pode priorizar outros programas do computador além do seu." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/" /><meta property="og:image" content="https://butecotecnologico.com.br/images/wp-content/uploads/2016/01/pthreads1.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-01-19T11:45:24+00:00" />
<meta property="article:modified_time" content="2016-01-19T11:45:24+00:00" /><meta property="og:site_name" content="Buteco Tecnológico" />


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://butecotecnologico.com.br/images/wp-content/uploads/2016/01/pthreads1.png"/>

<meta name="twitter:title" content="Linux API: pthreads - Parte 1"/>
<meta name="twitter:description" content="Processadores de múltiplos núcleos já são uma realidade nos computadores da grande maioria dos usuários comuns. Em meio a esse avanço podemos escrever programas que executam várias linhas de processamento em paralelo, podendo fazer com que esses programas tenham um tempo de resposta menor.
Para tal, este post mostrará como utilizar POSIX threads na linguagem C.
O que são threads?
Threads são linhas de execução para processos. Ao iniciar um processo, uma thread principal é iniciada, um processo então pode criar outras threads para que estas executem tarefas específicas e de forma paralela. Quando temos uma CPU com um único núcleo, dizemos que as threads executam de forma concorrente, uma vez que a CPU só pode executar uma thread por vez, mas há mais que uma para ser executada ao &#34;mesmo tempo&#34;. Já quando temos uma CPU com vários núcleos, as threads podem ser executadas tanto de forma concorrente como em paralelo, pois o scheduler pode priorizar outros programas do computador além do seu."/>
<meta name="twitter:site" content="@butecotech"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": "https://butecotecnologico.com.br/#organization",
      "name": "Buteco Tecnológico",
      "url": "https://butecotecnologico.com.br/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://butecotecnologico.com.br/logos/capybara_400.png"
      },
      "sameAs": [
        "https://www.linkedin.com/company/butecotecnologico",
        "https://twitter.com/butecotech",
        "https://www.facebook.com/buteco.tech",
        "https://www.youtube.com/c/ButecoTech",
        "https://www.instagram.com/buteco.tech/"
      ]
    },{
      "@type": "WebSite",
      "@id": "https://butecotecnologico.com.br/#website",
      "url": "https://butecotecnologico.com.br/",
      "name": "Buteco Tecnológico",
      "description": "\u003cp\u003eProcessadores de múltiplos núcleos já são uma realidade nos computadores da grande maioria dos usuários comuns. Em meio a esse avanço podemos escrever programas que executam várias linhas de processamento em paralelo, podendo fazer com que esses programas tenham um tempo de resposta menor.\u003c/p\u003e\n\u003cp\u003ePara tal, este post mostrará como utilizar POSIX threads na linguagem C.\u003c/p\u003e\n\u003ch4\u003eO que são threads?\u003c/h4\u003e\n\u003cem\u003eThreads\u003c/em\u003e são linhas de execução para processos. Ao iniciar um processo, uma \u003cem\u003ethread\u003c/em\u003e principal é iniciada, um processo então pode criar outras \u003cem\u003ethreads\u003c/em\u003e para que estas executem tarefas específicas e de forma paralela. Quando temos uma CPU com um único núcleo, dizemos que as \u003cem\u003ethreads\u003c/em\u003e executam de forma \u003cem\u003econcorrente\u003c/em\u003e, uma vez que a CPU só pode executar uma thread por vez, mas há mais que uma para ser executada ao \"mesmo tempo\". Já quando temos uma CPU com vários núcleos, as \u003cem\u003ethreads\u003c/em\u003e podem ser executadas tanto de forma \u003cem\u003econcorrente\u003c/em\u003e como em \u003cem\u003eparalelo\u003c/em\u003e, pois o \u003ca href=\"https://pt.wikipedia.org/wiki/Escalonamento_de_processos\" target=\"_blank\"\u003e\u003cem\u003escheduler\u003c/em\u003e\u003c/a\u003e pode priorizar outros programas do computador além do seu.",
      "publisher": {
         "@id": "https://butecotecnologico.com.br/#organization"
      },
      "inLanguage": "pt-BR"
    },
    {
      "@type": "ImageObject",
      "@id": "https://butecotecnologico.com.br/#primaryimage",
      "url": "https://butecotecnologico.com.br/logos/capybara_64.png",
      "caption": "Buteco Tecnológico"
    },
    {
      "@type": "ImageObject",
      "url": "https://butecotecnologico.com.br/logos/capybara_400_bg.png",
      "caption": "Buteco Tecnológico"
    },
    {
      "@type": "ImageObject",
      "url": "https://butecotecnologico.com.br/logos/capybara_400.png",
      "caption": "Buteco Tecnológico"
    },
    {
      "@type": "WebPage",
      "@id": "https://butecotecnologico.com.br/linux-api-pthreads-parte-1/#webpage",
      "url": "https://butecotecnologico.com.br/linux-api-pthreads-parte-1/",
      "name": "Linux API: pthreads - Parte 1",
      "isPartOf": {
        "@id": "https://butecotecnologico.com.br/#website"
      },
      "about": {
         "@id": "https://butecotecnologico.com.br/#organization"
      },
      "primaryImageOfPage": {
        "@id": "https://butecotecnologico.com.br/#primaryimage"
      },
      "datePublished": "2016-01-19T11:45:24+00:00",
      "dateModified": "2016-01-19T11:45:24+00:00",
      "description": "\u003cp\u003eProcessadores de múltiplos núcleos já são uma realidade nos computadores da grande maioria dos usuários comuns. Em meio a esse avanço podemos escrever programas que executam várias linhas de processamento em paralelo, podendo fazer com que esses programas tenham um tempo de resposta menor.\u003c/p\u003e\n\u003cp\u003ePara tal, este post mostrará como utilizar POSIX threads na linguagem C.\u003c/p\u003e\n\u003ch4\u003eO que são threads?\u003c/h4\u003e\n\u003cem\u003eThreads\u003c/em\u003e são linhas de execução para processos. Ao iniciar um processo, uma \u003cem\u003ethread\u003c/em\u003e principal é iniciada, um processo então pode criar outras \u003cem\u003ethreads\u003c/em\u003e para que estas executem tarefas específicas e de forma paralela. Quando temos uma CPU com um único núcleo, dizemos que as \u003cem\u003ethreads\u003c/em\u003e executam de forma \u003cem\u003econcorrente\u003c/em\u003e, uma vez que a CPU só pode executar uma thread por vez, mas há mais que uma para ser executada ao \"mesmo tempo\". Já quando temos uma CPU com vários núcleos, as \u003cem\u003ethreads\u003c/em\u003e podem ser executadas tanto de forma \u003cem\u003econcorrente\u003c/em\u003e como em \u003cem\u003eparalelo\u003c/em\u003e, pois o \u003ca href=\"https://pt.wikipedia.org/wiki/Escalonamento_de_processos\" target=\"_blank\"\u003e\u003cem\u003escheduler\u003c/em\u003e\u003c/a\u003e pode priorizar outros programas do computador além do seu.",
      "inLanguage": "pt-BR",
      "potentialAction": [
        {
          "@type": "ReadAction",
          "target": [
            "https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
          ]
        }
      ]
    },
    {
      "@type": "Article",
      "isPartOf": {
        "@id": "https://butecotecnologico.com.br/linux-api-pthreads-parte-1/#webpage"
      },
      "mainEntityOfPage": {
        "@id": "https://butecotecnologico.com.br/linux-api-pthreads-parte-1/#webpage"
      },
      "headline": "Linux API: pthreads - Parte 1",
      "image": [
        "https://butecotecnologico.com.br/images/wp-content/uploads/2016/01/pthreads1.png"
      ],
      "datePublished": "2016-01-19T11:45:24+00:00",
      "dateModified": "2016-01-19T11:45:24+00:00",
      "publisher": {
         "@id": "https://butecotecnologico.com.br/#organization"
      },
      "keywords": [
        "c",
        "cpp",
        "linux",
        "posix",
        "threads"
      ],
      "articleSection": [
        "Desenvolvimento",
        "Tutoriais"
      ],
      "inLanguage": "pt-BR",
      "author": [
        {
          "@type":"Person",
          "name": "Marcos Paulo de Souza",
          "image": {
            "@type":"ImageObject",
            "url": "https://gravatar.com/avatar/11fc78ee518c3894943153a8f2e5cb0d?s=200&d=mp"
          },
          "description": "Software Engineer"
        }
      ],
      "potentialAction": [
        {
          "@type": "CommentAction",
          "name": "Comment",
          "target": [
            "https://butecotecnologico.com.br/linux-api-pthreads-parte-1/#comments"
          ]
        }
      ]
    }
  ]
}
</script>



<script data-ad-client="ca-pub-6625957038449899" type="text/javascript" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</head>
<body class="d-flex flex-column h-100">
  <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm">
  <a class="navbar-brand text-decoration-none" href="https://butecotecnologico.com.br/">
    
    <img src="https://butecotecnologico.com.br/logos/capybara_64.png"
         width="32"
         height="32"
         alt="Logo"
         class="d-inline-block align-top"
         loading="lazy">
    Buteco Tecnológico</a>
  <div class="d-flex flex-row order-2 order-lg-3">
    
    <ul class="navbar-nav flex-row">
      <li class="nav-item">
        <a class="nav-link mr-3 mt-2 mr-lg-0 mt-lg-0"
           href="#search-modal"
           data-toggle="modal"
           data-target="#search-modal">
          <i class="fas fa-search"></i>
        </a>
      </li>
    </ul>
    
    <button class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbar"
            aria-controls="navbar"
            aria-expanded="false"
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
  <div class="collapse navbar-collapse order-3 order-lg-2" id="navbar">
    <ul class="navbar-nav ml-auto"><li class="nav-item ">
          <a class="nav-link" href="/">
            <span class="mr-1"><i class="fas fa-home"></i></span>
            Início
            
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="/podcast/">
            <span class="mr-1"><i class="fas fa-microphone-alt"></i></span>
            Podcast
            
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="/contribua-com-nosso-blog/">
            <span class="mr-1"><i class="far fa-heart text-danger"></i></span>
            Colabore
            
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="/anuncie-conosco/">
            <span class="mr-1"><i class="fas fa-bullhorn"></i></span>
            Anuncie
            
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="/contato/">
            <span class="mr-1"><i class="fas fa-phone"></i></span>
            Contato
            
          </a>
        </li>
        </ul>
  </div>
</nav>



  <main>
  


<section class="container article wordpress">
  <header class="mb-4">
    <h1>Linux API: pthreads - Parte 1</h1>
    
    <div class="meta d-flex"><div class="d-inline-block mr-2">
    <div class="d-inline-flex">
    <a href="https://butecotecnologico.com.br/autores/mpdesouza/"
       class="d-inline-block avatar mt-1 ml-0">
      <img src="https://gravatar.com/avatar/11fc78ee518c3894943153a8f2e5cb0d?s=200&amp;d=mp"
           loading="lazy"
           alt="Marcos Paulo de Souza"
           title="Marcos Paulo de Souza">
    </a>
    </div>
  </div><div class="d-inline-block authors">
    <div><span>
        <a href="https://butecotecnologico.com.br/autores/mpdesouza/"
           class="author">Marcos Paulo de Souza</a>
      </span>
    
    <span class="text-muted">em</span>
    
    <span>
        <a href="https://butecotecnologico.com.br/categorias/desenvolvimento/" class="text-decoration-none">Desenvolvimento</a> e 
        
        <a href="https://butecotecnologico.com.br/categorias/tutoriais/" class="text-decoration-none">Tutoriais</a>
        </span>
    </div>
    <div class="text-muted"><time datetime="2016-01-19T11:45:24Z">19/01/2016</time>
      &middot; 5 minutos de leitura
    </div>
  </div>
  <div class="d-none d-md-inline-block ml-auto">
    <div class="d-inline-flex share-buttons text-center">
      <a class="share-button share-twitter"
         href="#"
         title="Share on Twitter"
         data-url="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
         data-text="Linux API: pthreads - Parte 1"><i class="fab fa-twitter"></i></a>

      <a class="share-button share-linkedin"
         href="#"
         title="Share on LinkedIn"
         data-url="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
         data-text="Linux API: pthreads - Parte 1"><i class="fab fa-linkedin-in"></i></a>

      <a class="share-button share-facebook"
         href="#"
         title="Share on Facebook"
         data-url="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
         data-text="Linux API: pthreads - Parte 1"><i class="fab fa-facebook"></i></a>

      <a class="share-button share-pinterest"
         href="#"
         title="Share on Pinterest"
         data-url="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
         data-text="Linux API: pthreads - Parte 1"><i class="fab fa-pinterest"></i></a>
    </div>
  </div>
</div>

  </header>
  <div class="mt-5">
    <figure class="figure">
      <img class="figure-img" src="https://butecotecnologico.com.br/images/wp-content/uploads/2016/01/pthreads1.png"
           alt="Linux API: pthreads - Parte 1">
    </figure>
  </div>
  <div class="alert alert-warning" role="alert">
  <h4 class="alert-heading">Atenção</h4>
  <p>Este artigo foi migrado do Wordpress e pode conter erros de formatação.</p>
  <p>Caso encontre algum problema deixe um comentário que iremos resolver o mais breve possível.</p>
</div>

  <article class="mt-3 mb-4">
  <p>Processadores de múltiplos núcleos já são uma realidade nos computadores da grande maioria dos usuários comuns. Em meio a esse avanço podemos escrever programas que executam várias linhas de processamento em paralelo, podendo fazer com que esses programas tenham um tempo de resposta menor.</p>
<p>Para tal, este post mostrará como utilizar POSIX threads na linguagem C.</p>
<h4>O que são threads?</h4>
<em>Threads</em> são linhas de execução para processos. Ao iniciar um processo, uma <em>thread</em> principal é iniciada, um processo então pode criar outras <em>threads</em> para que estas executem tarefas específicas e de forma paralela. Quando temos uma CPU com um único núcleo, dizemos que as <em>threads</em> executam de forma <em>concorrente</em>, uma vez que a CPU só pode executar uma thread por vez, mas há mais que uma para ser executada ao "mesmo tempo". Já quando temos uma CPU com vários núcleos, as <em>threads</em> podem ser executadas tanto de forma <em>concorrente</em> como em <em>paralelo</em>, pois o <a href="https://pt.wikipedia.org/wiki/Escalonamento_de_processos" target="_blank"><em>scheduler</em></a> pode priorizar outros programas do computador além do seu.
<h4>Para que são utilizadas?</h4>
Como dito anteriormente, as threads são utilizadas para fazerem tarefas de forma simultânea dentro do mesmo processo. Para exemplificar, imagine um servidor de <em>chat</em>. Você poderia fazer tudo rodar na mesma thread: identificar novos usuários conectados, receber mensagens destes usuários e enviar estas mensagens para os usuários online, identificar usuários que deixam o sistema, e etc. Nesse exemplo, podemos ver que este processo se torna custoso para uma única <em>thread</em> (<em>thread principal</em> nesse caso). Para tornar este processo mais otimizado, podemos criar uma <em>thread</em> para tratar as conexões ativas (usuários conectando e desconectando do servidor), e outra <em>thread</em> somente para receber as mensagens.
<h4>Porque o nome pthreads?</h4>
<em>POSIX threads</em>, aka <em>pthreads</em>, é um padrão definido para sistemas *NIX, tais qual BSD e Linux. Outros sistemas operacionais, como o Windows, tem sua própria API de <em>threads</em>.
<h4>Exemplo</h4>
Segue abaixo um exemplo simples da utilização de <em>pthreads</em> em código C. Podemos ver duas <em>threads</em> sendo criadas, fazendo somas, e no final a <em>thread</em> principal pegando o retorno destas <em>threads</em> e somando os dois resultados:
<script src="//gistfy-app.herokuapp.com/github/ButecoOpenSource/exemplos/exemplos_c/pthreads/pthread1.c" type="text/javascript"></script>
<p>Para compilar o código acima é necessário fazer o <em>link</em> com a <em>libpthread</em>:
<code>gcc pthread1.c -o pthread1 -lpthread</code></p>
<p>Vamos ao código:
<code>pthread_t</code> é o identificador da <em>thread</em>, ou seja, é necessário utilizar este identificador para executar outras ações na <em>thread</em>, como o <em>join</em>(ver abaixo). Neste exemplo, criamos um <em>array</em> de <em>pthreads</em> com duas posições, pois teremos duas <em>threads</em>. Poderíamos ter criado duas variáveis ao invés do <em>array</em>, mas isto não muda o resultado final.</p>
<p><code>pthread_create</code> é a função onde é criada uma nova <em>thread</em> de fato. Esta função recebe:</p>
<ul>
<li><code>pthread_id</code>, que é o identificador da <em>thread</em> a ser criada</li>
<li><code>pthread_attr_t</code>, que é uma variável onde podemos setar alguns atributos para alterar o comportamento padrão da <em>thread</em>. Na maioria das vezes esse valor pode ser omitido, como no exemplo. Este assunto será abordado na parte dois do artigo.</li>
<li><code>void *(*start_routine) (void *)</code>, que é um ponteiro de função que será executada pela <em>thread</em>. A definição do parâmetro no <em>man page</em> parece ser meio confusa, mas é bem simples: É esperado um nome de função, mas esta função deve retornar um ponteiro <code>void</code>, e deve receber um ponteiro <code>void</code> como parâmetro. No nosso exemplo, criamos a função <code>func</code> que atende os requisitos acima. Como já descrito, a função só pode receber um único parâmetro, e se você deseja passar mais de um valor, basta criar uma <code>struct</code> e utilizar este como parâmetro.</li>
<li><code>void *arg</code>, que é o parâmetro que será passado a função. Como este parâmetro é um ponteiro <code>void</code>, ele pode ser qualquer coisa. Basta passar o valor e fazer um <em>cast</em> para <code>void *</code> e o valor será passado para a função quando ela iniciar.</li>
</ul>
<p>Tudo isso parece um pouco complicado de início, mas vamos a um resumo disso tudo acima:
<code>pthread_create</code> vai criar uma nova <em>thread</em>, que irá executar uma função que retorna um ponteiro <code>void</code> (pode retornar qualquer tipo de valor, sendo <code>int</code>, ou até mesmo uma <code>struct</code>), e que recebe como parâmetro um ponteiro <code>void</code> (que pode ser um <code>int</code> ou até uma <code>struct</code>). Acredito que tenha ficado mais claro agora!</p>
<p>A chamada <code>pthread_create</code> retorna zero em caso de sucesso. Qualquer valor diferente de zero significa que houve um erro.</p>
<p>No exemplo criamos duas <em>threads</em>, passando valores diferentes para cada uma delas, e assim esperamos que cada uma delas retorne um valor diferente. As duas <em>threads</em> irão executar a função <code>func</code>, que soma 100 vezes o valor passado como parâmetro. Podemos ver aqui como um <code>int</code> sofre um <em>cast</em> para <code>void *</code> na chamada <code>pthread_create</code>, e novamente sofre outro <em>cast</em> dentro da função <code>func</code> para <code>int</code> novamente. Desta forma a função <code>pthread_create</code> pode receber qualquer tipo de dado como parâmetro.</p>
<p>Após a criação das duas <em>threads</em>, a <em>thread principal</em> continua seu fluxo. A fim de &ldquo;esperar&rdquo; que as duas <em>threads</em> iniciadas terminem, a chamada <code>pthread_join</code> é necessária.</p>
<p><code>pthread_join</code> é responsável por &ldquo;esperar&rdquo; por uma <em>thread</em> acabar, ou se ela já acabou, a chamada retorna imediatamente. Os parâmetros são:</p>
<ul>
<li><code>pthread_t</code>, que é o identificador da <em>thread</em></li>
<li><code>void **retval</code>, que pede um endereço para um ponteiro void. Esse parâmetro recebe o retorno da <em>thread</em> em questão, nesse caso o valor do cálculo.</li>
</ul>
<p>Da mesma forma que <code>pthread_create</code>, <code>pthread_join</code> também retorna zero em caso de sucesso, e outro valor em caso de erro.</p>
<p>Ao executar o programa do exemplo, a saída a seguir pode ser vista:</p>
<pre>[marcos@localhost pthreads]$ ./pthread1
Resultado: 1100</pre>
<p>Espero que tenham gostado desta primeira parte! Não esqueça de comentar, até mais!</p>
<p>Referências:
<a href="https://pt.wikipedia.org/wiki/Thread_(ci%C3%AAncia_da_computa%C3%A7%C3%A3o)" target="_blank">Wikipédia (BR) - Threads</a>
<a href="http://www.thegeekstuff.com/2012/03/linux-threads-intro/" target="_blank">The Gekk Stuff - Linux Threads Introduction</a>
<a href="http://man7.org/linux/man-pages/man7/pthreads.7.html" target="_blank">man pthreads</a>
<a href="http://man7.org/linux/man-pages/man3/pthread_create.3.html" target="_blank">pthread_create</a>
<a href="http://linux.die.net/man/3/pthread_join" target="_blank">man pthread_join</a></p>
  </article>

  <footer>
    
<div class="mb-4">
  <ul class="list-unstyled tags">
  <li class="d-inline-block mb-1 mr-1">
     <a href="https://butecotecnologico.com.br/tags/c/" class="tag-link">c</a>
  </li>
  
  <li class="d-inline-block mb-1 mr-1">
     <a href="https://butecotecnologico.com.br/tags/cpp/" class="tag-link">cpp</a>
  </li>
  
  <li class="d-inline-block mb-1 mr-1">
     <a href="https://butecotecnologico.com.br/tags/linux/" class="tag-link">linux</a>
  </li>
  
  <li class="d-inline-block mb-1 mr-1">
     <a href="https://butecotecnologico.com.br/tags/posix/" class="tag-link">posix</a>
  </li>
  
  <li class="d-inline-block mb-1 mr-1">
     <a href="https://butecotecnologico.com.br/tags/threads/" class="tag-link">threads</a>
  </li>
  </ul>
</div>



    <div class="share-buttons text-center">
  <a class="share-button share-twitter"
     href="#"
     title="Share on Twitter"
     data-url="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
     data-text="Linux API: pthreads - Parte 1"><i class="fab fa-twitter"></i></a>

  <a class="share-button share-linkedin"
     href="#"
     title="Share on LinkedIn"
     data-url="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
     data-text="Linux API: pthreads - Parte 1"><i class="fab fa-linkedin-in"></i></a>

  <a class="share-button share-facebook"
     href="#"
     title="Share on Facebook"
     data-url="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
     data-text="Linux API: pthreads - Parte 1"><i class="fab fa-facebook"></i></a>

  <a class="share-button share-pinterest"
     href="#"
     title="Share on Pinterest"
     data-url="https://butecotecnologico.com.br/linux-api-pthreads-parte-1/"
     data-text="Linux API: pthreads - Parte 1"><i class="fab fa-pinterest"></i></a>
</div>


    
<div class="border-top py-4">
  <div class="author-info">
    <div class="author-avatar d-inline-block position-absolute mt-2">
      <a href="https://butecotecnologico.com.br/autores/mpdesouza/">
        <img class="author-img"
             src="https://gravatar.com/avatar/11fc78ee518c3894943153a8f2e5cb0d?s=200&amp;d=mp"
             loading="lazy"
             alt="Marcos Paulo de Souza">
      </a>
    </div>
    <div class="author-meta d-inline-block align-top">
      
      <span class="small text-muted text-uppercase">Escrito por</span>
      
      <h2 class="m-0">
        <a href="https://butecotecnologico.com.br/autores/mpdesouza/">Marcos Paulo de Souza</a>
      </h2>
      <span class="small text-muted">Software Engineer</span>
    </div>
  </div>
  
</div>

    <div class="border-top pt-4 pb-4">
<h2 id="comments" class="mt-0">Comentários</h2>
<div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "butecoopensource" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

  </footer>
</section>
  </main><div class="modal fade" id="search-modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-body"><div class="gcse-search"></div>
        <script async src="https://cse.google.com/cse.js?cx=006529162228150198964%3aypsteas3iuv"></script></div>
    </div>
  </div>
</div>
<footer class="site-footer mt-auto pt-5 pb-3 px-4">
  <div class="clearfix text-center">
    <div class="social-icons d-xl-inline-block float-xl-left">
      <ul class="list-unstyled">
        <li class="list-inline-item social-icon my-2">
          <a href="https://t.me/butecotecnologico" title="Telegram"><i class="fab fa-telegram-plane"></i></a>
        </li>
        <li class="list-inline-item social-icon my-2">
          <a href="https://discord.gg/eX2jAvw" title="Discord"><i class="fab fa-discord"></i></a>
        </li>
        <li class="list-inline-item social-icon my-2">
          <a href="https://twitter.com/butecotech" title="Twitter"><i class="fab fa-twitter"></i></a>
        </li>
        <li class="list-inline-item social-icon my-2">
          <a href="https://www.linkedin.com/company/butecotecnologico" title="Linkedin"><i class="fab fa-linkedin-in"></i></a>
        </li>
        <li class="list-inline-item social-icon my-2">
          <a href="https://www.facebook.com/buteco.tech" title="Facebook"><i class="fab fa-facebook-f"></i></a>
        </li>
        <li class="list-inline-item social-icon my-2">
          <a href="https://www.youtube.com/c/ButecoTech" title="YouTube"><i class="fab fa-youtube"></i></a>
        </li>
        <li class="list-inline-item social-icon my-2">
          <a href="https://www.instagram.com/buteco.tech/" title="Instagram"><i class="fab fa-instagram"></i></a>
        </li>
        <li class="list-inline-item social-icon my-2">
          <a href="/feed-rss/" title="Feed RSS"><i class="fas fa-rss"></i></a>
        </li>
      </ul>
    </div>
    <div class="footer-sections d-xl-inline-block float-xl-right">
      <div class="my-3 my-md-0 mx-md-2 d-md-inline-block align-top">
        <ul class="list-unstyled">
          <li>
            <a class="td-n td-h " href="/categorias/cloud-computing/"><b> Cloud Computing </b></a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/kubernetes/"> Kubernetes </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/docker/"> Docker </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/virtualizacao/"> Virtualização </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/aws/"> AWS </a>
          </li>
        </ul>
      </div>
      <div class="my-3 my-md-0 mx-md-2 d-md-inline-block align-top">
        <ul class="list-unstyled">
          <li>
            <a class="td-n td-h " href="/categorias/embarcados/"><b> Embarcados </b></a>
          </li>
          
          <li>
            <a class="td-n td-h " href="/tags/raspberry-pi/"> Raspberry Pi </a>
          </li>
          
          <li>
            <a class="td-n td-h " href="/tags/arm/"> ARM </a>
          </li>
          
          <li>
            <a class="td-n td-h " href="/tags/arduino/"> Arduino </a>
          </li>
          
          <li>
            <a class="td-n td-h " href="/tags/iot/"> Internet das Coisas </a>
          </li>
          
          <li>
            <a class="td-n td-h " href="/tags/diy/"> DIY </a>
          </li>
          </ul>
      </div>
      <div class="my-3 my-md-0 mx-md-2 d-md-inline-block align-top">
        <ul class="list-unstyled">
          <li>
            <a class="td-n td-h " href="/categorias/desenvolvimento/"><b> Desenvolvimento </b></a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/python/"> Python </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/cpp/"> C/C&#43;&#43; </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/php/"> PHP </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/node-js/"> Node.JS </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/lua/"> Lua </a>
          </li>
        </ul>
      </div>
      <div class="my-3 my-md-0 mx-md-2 d-md-inline-block align-top">
        <ul class="list-unstyled">
          <li>
            <a class="td-n td-h " href="/categorias/distros/"><b> Distros </b></a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/linux/"> Linux </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/ubuntu/"> Ubuntu </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/fedora/"> Fedora </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/centos/"> CentOS </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/opensuse/"> openSUSE </a>
          </li>
          <li>
            <a class="td-n td-h " href="/tags/bsd/"> BSD </a>
          </li>
        </ul>
      </div>
      <div class="my-3 my-md-0 mx-md-2 d-md-inline-block align-top">
        <ul class="list-unstyled">
          <li>
            <a class="td-n td-h " href="/buteco-talks/"><b> Buteco Talks </b><span class="badge badge-danger">Online</span></a>
          </li>
          <li>
            <a class="td-n td-h " href="/podcast/"> Podcast <i class="fas fa-microphone-alt"></i></a>
          </li>
          <li>
            <a class="td-n td-h " href="/contribua-com-nosso-blog/"> Contribua com o blog <i class="far fa-heart text-danger"></i></a>
          </li>
          <li>
            <a class="td-n td-h " href="/anuncie-conosco/"> Anuncie conosco </a>
          </li>
          <li>
            <a class="td-n td-h " href="/categorias/"> Categorias </a>
          </li>
          <li>
            <a class="td-n td-h " href="/autores/"> Autores </a>
          </li>
        </ul>
      </div>
      <div class="my-3 my-md-0 mx-md-2 d-md-inline-block align-top">
        <ul class="list-unstyled">
          <li>
            <a class="td-n td-h " href="/contato/"><b> Contato </b></a>
          </li>
          <li>
            <a class="td-n td-h " href="/sobre/"> Sobre nós </a>
          </li>
          <li>
            <a class="td-n td-h " href="/equipe/"> Equipe </a>
          </li>
          <li>
            <a class="td-n td-h " href="/feed-rss/"> Feed RSS </a>
          </li>
          <li>
            <a class="td-n td-h " href="/estatisticas/"> Estatísticas </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <hr class="my-3">
  <div class="copyright clearfix text-center">
    <div class="d-md-inline-block float-md-left">
      <i class="far fa-copyright"></i> 2022 Buteco Tecnológico
      &middot; <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">CC BY-SA 4.0</a>
    </div>
    <div class="pt-2 pt-md-0 d-md-inline-block float-md-right">
      <ul class="list-unstyled m-0">
        <li class="list-inline-item">
          <a href="/termos-de-uso/"> Termos de Uso </a>
        </li>
        <li class="list-inline-item">
          <a href="/politica-de-privacidade/"> Privacidade </a>
        </li>
      </ul>
    </div>
    
  </div>
</footer>
<script type="text/javascript" src="/vendor/jquery/jquery.min.js"></script>

  
  <script type="text/javascript" async src="/js/bootstrap.min.da936251939d679daf0e1d0ae2ddf844491b891602236a8e9a50d81570d3377e.js"></script>

  
  <script type="text/javascript" async src="/js/iara.min.f5c1091a7a5ff8ff650284822be32ea6260d26a3d389b5c388ff7a657c2e8e76.js"></script>

<script type="text/javascript" async src="/vendor/fontawesome/js/all.min.js"></script>

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YV3KZZD4F9"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YV3KZZD4F9', { 'anonymize_ip': false });
}
</script>



</body>
</html>
